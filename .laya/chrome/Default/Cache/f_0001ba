!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://res.wx.qq.com/community/dist/",n(n.s=5)}([function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.debugSetting=!1,this.SWfilename=/\/sw\.js/i}return r(e,[{key:"getDefaultWhiteList",value:function(){var e=self.location.origin,t=self.location.pathname.split("/");return t[t.length-1]="index.html",[new RegExp(e+t.join("/"))]}},{key:"stringToRegexp",value:function(e){var t=this;return e.map(function(e){return e instanceof RegExp||(e=new RegExp(t.regexEscape(e),"i")),e})}},{key:"regexEscape",value:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"filename",set:function(e){e||(e="sw.js"),e instanceof RegExp||(e=new RegExp(this.regexEscape(e),"i")),this.SWfilename=e},get:function(){return this.SWfilename}},{key:"debug",set:function(e){"boolean"==typeof e&&(this.debugSetting=e)},get:function(){return this.debugSetting}}]),e}();t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.debug=function(e){r.default.debug&&console.log("[nawa] "+e)}},function(e,t,n){"use strict";var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3)),a=o(n(0)),u=o(n(11)),c=o(n(12)),s=o(n(13)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.defaultValues={cache:{maxEntry:100,query:{ignoreSearch:!0}},debug:!1,whitelist:null,precache:[],filename:"sw.js",skipWaiting:!0},e=Object.assign({},n.defaultValues,e),a.default.debug=e.debug,a.default.filename=e.filename,a.default.whitelist=e.whitelist,a.default.cache=new s.default(e.cache),n.cache=a.default.cache,n.swShell=new u.default,n.swShell.precache=e.precache,n.swShell.skipWaiting=e.skipWaiting,a.default.whitelist&&a.default.whitelist.length&&r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"syncUse",n).call(n,c.default.middlewareWhitelist.bind(c.default)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();t.default=l},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(4)),u=i(n(0)),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"cacheFirst",value:function(e){var n=e.path,r=e.origin,i=e.query,a=e.maxAge,c=e.middleware,s=void 0===c?[]:c;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,{path:n,handler:async function(e){var t={};a&&(t.maxAge=a);var n=await u.default.cache.match(e.request,Object.assign({},t));e.response=n||await fetch(e.request.clone()).then(async function(t){return u.default.cache.put(e.request,t.clone()),t})},origin:r,query:i,middleware:s})}},{key:"cacheUpdate",value:function(e){var n=e.path,r=e.origin,i=e.query,a=e.maxAge,c=e.middleware,s=void 0===c?[]:c;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,{path:n,handler:async function(e){var t={};a&&(t.maxAge=a);var n=await u.default.cache.match(e.request.clone(),Object.assign({},t));n?(fetch(e.request.clone()).then(function(t){u.default.cache.put(e.request,t.clone())}),e.response=n):(e.isFresh=!0,e.response=await fetch(e.request.clone()).then(function(t){return u.default.cache.put(e.request,t.clone()),t}))},middleware:s,origin:r,query:i,maxAge:a})}}]),t}();t.default=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(5)),a=n(1),u=o(n(7)),c=o(n(9)),s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=new Map,this.fetchListener=function(e){var n=t.match(e.request),r={req:e.requset,request:e.request,event:e};u.default.execute(r,function(){n&&e.respondWith(c.default.execute(r,async function(e){await n(r)}))})},this.routes.set(RegExp,new Map),self.addEventListener("fetch",this.fetchListener)}return r(e,[{key:"get",value:function(e){return this.add("get",e)}},{key:"post",value:function(e){return console.warn("CacheStorage do not support POST, you need to replace post with get request"),this.add("post",e)}},{key:"put",value:function(e){return console.warn("CacheStorage do not support PUT, you need to replace put with get request"),this.add("put",e)}},{key:"delete",value:function(e){return console.warn("CacheStorage do not support DELETE, you need to replace post with delete request"),this.add("delete",e)}},{key:"any",value:function(e){return this.add("any",e)}},{key:"add",value:function(e,t){t.origin||(t.origin=self.location.origin);var n=t.path,r=t.handler,o=t.origin;o=o instanceof RegExp?o.source:this.regexEscape(o),e=e.toLowerCase();var u=new i.default(e,n,r,t);this.routes.has(o)||this.routes.set(o,new Map);var c=this.routes.get(o);c.has(e)||c.set(e,new Map);var s=c.get(e),l=u.path;s.has(l.source)&&a.debug('"'+n+'" resolves to same regex as existing route.'),s.set(l.source,u)}},{key:"syncUse",value:function(e){u.default.add(e)}},{key:"use",value:function(e){c.default.add(e)}},{key:"match",value:function(e){return this.matchMethod(e.method,e.url)||this.matchMethod("any",e.url)}},{key:"extractMethod",value:function(e,t,n){if(0===t.length)return null;for(var r=0;r<t.length;r++){var o=t[r],i=o&&o.get(e.toLowerCase());if(i){var a=this.keyMatch(i,n);if(a.length>0)return a[0].makeHandler()}}return null}},{key:"matchMethod",value:function(e,t){var n=new URL(t),r=n.origin,o=n.pathname;return this.extractMethod(e,this.keyMatch(this.routes,r),o)}},{key:"keyMatch",value:function(e,t){for(var n=e.entries(),r=n.next(),o=[];!r.done;)new RegExp(r.value[0]).test(t)&&o.push(r.value[1]),r=n.next();return o}},{key:"regexEscape",value:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}]),e}();t.default=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(6)),a=o(n(0)),u=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.method=t,this.path=n,this.handler=r,this.options=o,n instanceof RegExp||(n=new RegExp(n,"ig")),this.middlewares=o.middleware||[],this.middlewares.unshift(async function(e,t){return a.default.cache.update(e.request),t()}),this.middlewares.push(r)}return r(e,[{key:"makeHandler",value:function(){return function(e){return e.option=this.options,i.default(this.middlewares)(e)}.bind(this)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if("function"!=typeof a)throw new TypeError("Middleware must be composed of functions!")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return function(t,n){var r=-1;return function o(i){if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;var a=e[i];if(i===e.length&&(a=n),!a)return Promise.resolve();try{return Promise.resolve(a(t,function(){return o(i+1)}))}catch(e){return Promise.reject(e)}}(0)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(8)),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.middleware=[]}return r(e,[{key:"add",value:function(e){this.middleware.push(e)}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return o.default(this.middleware)(e,t.bind(null,e))}}]),e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if("function"!=typeof a)throw new TypeError("Middleware must be composed of functions!")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return function(t,n){var r=-1;return function o(i){if(i<=r)return new Error("next() called multiple times");r=i;var a=e[i];return i===e.length&&(a=n),a?a(t,function(){return o(i+1)}):void 0}(0)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.middleware=[],this.wrap()}return r(e,[{key:"wrap",value:function(){this.add(async function(e,t){try{await t()}catch(t){console.error(t),e.response=await fetch(e.request)}return e.response})}},{key:"add",value:function(e){this.middleware.push(e)}},{key:"execute",value:function(e,t){return o.default(this.middleware)(e,t.bind(null,e))}}]),e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if("function"!=typeof a)throw new TypeError("Middleware must be composed of functions!")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return function(t,n){var r=-1;return function o(i){if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;var a=e[i];if(i===e.length&&(a=n),!a)return Promise.resolve();try{return Promise.resolve(a(t,function(){return o(i+1)}))}catch(e){return Promise.reject(e)}}(0)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activateListener=function(e){o.debug("the new ServiceWorker has updated")},this.installListener=function(e){t.skipWaitingFlag&&self.skipWaiting(),t.precacheList.length&&e.waitUntil(Promise.all(t.precacheList.map(function(e){return t.db.precacheUrl(e)})))},this.precacheList=[],this.skipWaitingFlag=!0,this.db=i.default.cache,self.addEventListener("install",this.installListener,!1),self.addEventListener("activate",this.activateListener,!1)}return r(e,[{key:"precache",set:function(e){e instanceof Array&&(this.precacheList=e)}},{key:"skipWaiting",set:function(e){"boolean"==typeof e&&(this.skipWaitingFlag=e)}}]),e}();t.default=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"middlewareWhitelist",value:function(e,t){var n=e.request;this.checkReq(n)&&t()}},{key:"isServiceWorker",value:function(e,t){var n=e.request;this.swCheck(n)||t()}},{key:"swCheck",value:function(e){var t=e.url;return o.default.filename.test(t)}},{key:"checkReq",value:function(e){var t=e.referrer,n=e.mode,r=e.url;if(t){if(this.inWhiteList(o.default.whitelist,t)&&this.corsCheck(n,r))return!0}else if(this.isHTML(r,n)&&this.inWhiteList(o.default.whitelist,r))return!0}},{key:"inWhiteList",value:function(e,t){if(!t)return!1;var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)if(i.value.test(t))return!0}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"isHTML",value:function(e,t){return/^http.*\.html/.test(e)&&"navigate"===t}},{key:"corsCheck",value:function(e,t){return new URL(t).origin===self.location.origin||"no-cors"!==e}}]),e}();t.default=new i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sucReg=200,this.DBName="wx-mini-DB",this.timeout=3;var n=t.query,r=t.maxEntry,i=t.name;this.DBName=i||"wx-mini-DB",this.query=n||{},this.lru=new o.default(r,{DBName:this.DBName})}return r(e,[{key:"open",value:function(){return caches.open(this.DBName)}},{key:"precacheUrl",value:async function(e){var t=new Request(e,{mode:"cors"});return this.fetchAndCache(t)}},{key:"fetchAndCache",value:async function(e){var t=await fetch(e.clone());if(t.status==this.sucReg){var n=await this.open();this.lru.update(e.clone()),await n.put(e,t.clone())}return t}},{key:"match",value:async function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=await this.open();t.ignoreVary=!0;var r=await n.match(e,t);return!(r&&t.maxAge&&await this.isStale(e.url,t.maxAge))&&(this.lru.update(e.clone()),r)}},{key:"matchRes",value:async function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=await this.open();t.ignoreVary=!0;var r=await n.match(e,t);return r&&t.maxAge&&await this.isStale(e.url,t.maxAge)?[r,!1]:(this.lru.update(e.clone()),[r,!0])}},{key:"update",value:async function(e){return this.lru.update(e)}},{key:"put",value:async function(e,t){var n=await this.open();if(t.status===this.sucReg)return this.lru.update(e.clone(),t.clone()),n.put(e.clone(),t.clone())}},{key:"isStale",value:async function(e,t){var n=await this.lru.get(e);return!n||n.createTime+1e3*t<Date.now()}}]),e}();t.default=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deletePercent=.2,this.StoreName="LRU",this.DBIndexDate="date",this.maxCounts=t||100,this.DBName=n.DBName||"wx-mini-DB",this.getDB=o.openDb(this.DBName,1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(r.StoreName,{keyPath:"url"}).createIndex(r.DBIndexDate,r.DBIndexDate,{unique:!1})}})}return r(e,[{key:"open",value:function(){return caches.open(this.DBName)}},{key:"count",value:async function(){return(await this.getDB).transaction(this.StoreName,"readonly").objectStore(this.StoreName).count()}},{key:"delete",value:async function(){var e=(await this.getDB).transaction(this.StoreName,"readwrite"),t=e.objectStore(this.StoreName),n=await t.count(),r=Math.max(n,this.maxCounts)-this.maxCounts+Math.floor(n*this.deletePercent),o=[];return n+1>this.maxCounts&&t.index(this.DBIndexDate).openCursor().then(function e(t){t&&(o.push(t.value),t.delete(),o.length<r&&t.continue().then(e))}),e.complete.then(function(){return o})}},{key:"get",value:async function(e){return(await this.getDB).transaction(this.StoreName).objectStore(this.StoreName).get(e)}},{key:"save",value:async function(e,t){var n=(await this.getDB).transaction(this.StoreName,"readwrite").objectStore(this.StoreName);if(t){var r=e.method,o=t.headers.get("Vary")||"",i={date:Date.now(),createTime:Date.now(),url:e.url,method:r,vary:o};return n.put(i)}var a=e.url,u=await n.get(a);if(u)return u.date=Date.now(),n.put(u)}},{key:"update",value:async function(e,t,n){n||(n={ignoreVary:!0}),await this.save(e,t);var r=await this.delete();if(r.length){var o=await this.open();await Promise.all(r.map(function(e){var t={method:e.method};e.vary&&(t.headers=new Headers({Vary:e.vary}));var r=new Request(e.url,t);return o.delete(r,n)}))}}}]),e}();t.default=i},function(e,t,n){"use strict";var r,o,i,a,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a=function(e){function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,r){var o,i=new Promise(function(i,a){t(o=e[n].apply(e,r)).then(i,a)});return i.request=o,i}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return n(this[t],o,arguments)})})}function i(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function a(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return e=this[t],(r=n(e,o,arguments)).then(function(e){if(e)return new c(e,r.request)});var e,r})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function s(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function h(e){this._db=e}r(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,r),t(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),s.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},r(s,"_store",["name","keyPath","indexNames","autoIncrement"]),o(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(s,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),i(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["deleteObjectStore","close"]),h.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(h,"_db",["name","version","objectStoreNames"]),i(h,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[s,u].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],o=this._store||this._index,i=o[e].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})}),[u,s].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)})})})}),e.openDb=function(e,t,r){var o=n(indexedDB,"open",[e,t]),i=o.request;return i&&(i.onupgradeneeded=function(e){r&&r(new f(i.result,e.oldVersion,i.transaction))}),o.then(function(e){return new h(e)})},e.deleteDb=function(e){return n(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})},"object"===u(t)&&void 0!==e?a(t):(o=[t],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}])},function(e,t,n){"use strict";var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(3),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){var r,o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",l="object"===t(e),f=n.regeneratorRuntime;if(f)l&&(e.exports=f);else{(f=n.regeneratorRuntime=l?e.exports:{}).wrap=x;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={},m={};m[u]=function(){return this};var g=Object.getPrototypeOf,w=g&&g(g(D([])));w&&w!==o&&i.call(w,u)&&(m=w);var b=O.prototype=k.prototype=Object.create(m);j.prototype=b.constructor=O,O.constructor=j,O[s]=j.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===j||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},P(E.prototype),E.prototype[c]=function(){return this},f.AsyncIterator=E,f.async=function(e,t,n,r){var o=new E(x(e,t,n,r));return f.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},P(b),b[s]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return u.type="throw",u.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function x(e,t,n,r){var o=t&&t.prototype instanceof k?t:k,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(e,t,n){var r=h;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=_(e,t,n);if("normal"===c.type){if(r=n.done?y:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=y,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function j(){}function O(){}function P(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var n;this._invoke=function(r,o){function a(){return new Promise(function(n,a){!function n(r,o,a,u){var c=_(e[r],e,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"===(void 0===l?"undefined":t(l))&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,a,u)},function(e){n("throw",e,a,u)}):Promise.resolve(l).then(function(e){s.value=e,a(s)},u)}u(c.arg)}(r,o,n,a)})}return n=n?n.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,S(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=_(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function q(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(q,this),this.reset(!0)}function D(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())}).call(this,n(4)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),u=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})},c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})},l=new a.a({skipWaiting:!0,cache:{maxEntry:150}}),f=/devqybd\.wxopenforum\.weixin\.qq\.com:8080/;f=/developers\.weixin\.qq\.com/,l.syncUse(function(e,t){~~new URL(e.request.url).searchParams.get("nosw")||t()}),l.get({origin:f,path:/^\/(community)?$/g,handler:function(e){return s(void 0,void 0,void 0,o.a.mark(function t(){var n,r,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.cache.matchRes(e.request,{maxAge:80});case 2:if(n=t.sent,r=c(n,2),i=r[0],a=r[1],!i||!a){t.next=12;break}e.isCache=!0,fetch(e.request.clone()).then(function(t){l.cache.put(e.request,t.clone())}),e.response=i,t.next=15;break;case 12:return t.next=14,new Promise(function(t,n){var r=void 0;i&&(r=setTimeout(function(){console.log("超时返回：!!!"),t(i)},3500)),fetch(e.request.clone()).then(function(n){l.cache.put(e.request,n.clone()),clearTimeout(r),t(n)})});case 14:e.response=t.sent;case 15:case"end":return t.stop()}},t,this)}))},middleware:[function(e,t){return s(this,void 0,void 0,o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!("onLine"in navigator)){n.next=7;break}if(navigator.onLine){n.next=7;break}return n.next=4,l.cache.match(e.request.clone());case 4:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",e.response=r);case 7:return n.abrupt("return",t());case 8:case"end":return n.stop()}},n,this)}))},function(e,t){return u(void 0,void 0,void 0,o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:e.isCache?fetch("/community/ngi/monitor/report?key=114301_23"):fetch("/community/ngi/monitor/report?key=114301_24");case 3:case"end":return n.stop()}},n,this)}))}]}),l.get({origin:f,path:/^\/community\/develop\/article\/doc\/\w+/,handler:function(e){return s(this,void 0,void 0,o.a.mark(function t(){var n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.cache.match(e.request,{maxAge:180});case 2:if(!(n=t.sent)){t.next=8;break}fetch(e.request.clone()).then(function(t){l.cache.put(e.request,t.clone())}),e.response=n,t.next=11;break;case 8:return t.next=10,fetch(e.request.clone()).then(function(t){return s(r,void 0,void 0,o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l.cache.put(e.request,t.clone()),n.abrupt("return",t);case 2:case"end":return n.stop()}},n,this)}))});case 10:e.response=t.sent;case 11:case"end":return t.stop()}},t,this)}))}}),l.cacheUpdate({origin:f,path:/community\/ngi\/article\/list\/11/,maxAge:180})}]);